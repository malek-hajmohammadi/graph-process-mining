// Version 1.14.1 kapsule - https://github.com/vasturiano/kapsule
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).Kapsule=t()}(this,(function(){"use strict";function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,(i=r.key,o=void 0,"symbol"==typeof(o=function(n,t){if("object"!=typeof n||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var r=e.call(n,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(i,"string"))?o:String(o)),r)}var i,o}function t(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function e(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,i,o,u,a=[],l=!0,f=!1;try{if(o=(e=e.call(n)).next,0===t){if(Object(e)!==e)return;l=!1}else for(;!(l=(r=o.call(e)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(n){f=!0,i=n}finally{try{if(!l&&null!=e.return&&(u=e.return(),Object(u)!==u))return}finally{if(f)throw i}}return a}}(n,t)||function(n,t){if(!n)return;if("string"==typeof n)return r(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return r(n,t)}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function i(n,t,e){var r,i,o,u,a;function l(){var f=Date.now()-u;f<t&&f>=0?r=setTimeout(l,t-f):(r=null,e||(a=n.apply(o,i),o=i=null))}null==t&&(t=100);var f=function(){o=this,i=arguments,u=Date.now();var f=e&&!r;return r||(r=setTimeout(l,t)),f&&(a=n.apply(o,i),o=i=null),a};return f.clear=function(){r&&(clearTimeout(r),r=null)},f.flush=function(){r&&(a=n.apply(o,i),o=i=null,clearTimeout(r),r=null)},f}i.debounce=i;var o=i,u=t((function n(t,e){var r=e.default,i=void 0===r?null:r,o=e.triggerUpdate,u=void 0===o||o,a=e.onChange,l=void 0===a?function(n,t){}:a;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.name=t,this.defaultVal=i,this.triggerUpdate=u,this.onChange=l}));return function(n){var t=n.stateInit,r=void 0===t?function(){return{}}:t,i=n.props,a=void 0===i?{}:i,l=n.methods,f=void 0===l?{}:l,c=n.aliases,s=void 0===c?{}:c,d=n.init,v=void 0===d?function(){}:d,p=n.update,y=void 0===p?function(){}:p,h=Object.keys(a).map((function(n){return new u(n,a[n])}));return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},r instanceof Function?r(n):r,{initialised:!1}),i={};function u(t){return a(t,n),l(),u}var a=function(n,e){v.call(u,n,t,e),t.initialised=!0},l=o((function(){t.initialised&&(y.call(u,t,i),i={})}),1);return h.forEach((function(n){u[n.name]=function(n){var e=n.name,r=n.triggerUpdate,o=void 0!==r&&r,a=n.onChange,f=void 0===a?function(n,t){}:a,c=n.defaultVal,s=void 0===c?null:c;return function(n){var r=t[e];if(!arguments.length)return r;var a=void 0===n?s:n;return t[e]=a,f.call(u,a,t,r),!i.hasOwnProperty(e)&&(i[e]=r),o&&l(),u}}(n)})),Object.keys(f).forEach((function(n){u[n]=function(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=f[n]).call.apply(e,[u,t].concat(i))}})),Object.entries(s).forEach((function(n){var t=e(n,2),r=t[0],i=t[1];return u[r]=u[i]})),u.resetProps=function(){return h.forEach((function(n){u[n.name](n.defaultVal)})),u},u.resetProps(),t._rerender=l,u}}}));
